(this["webpackJsonpmoving-avg-mvp"]=this["webpackJsonpmoving-avg-mvp"]||[]).push([[0],{175:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(58),i=n.n(a),s=(n(66),n(2)),o=n(3),u=(n(67),n(1)),l=function(e){var t=e.tickerSymbols,n=e.setCurrentSymbol,r=Object(c.useState)(""),a=Object(o.a)(r,2),i=a[0],s=a[1],l=Object(c.useState)([]),m=Object(o.a)(l,2),b=m[0],j=m[1];return Object(u.jsxs)("aside",{className:"stock-symbols-container",children:[Object(u.jsxs)("div",{className:"stock-symbol-header-container",children:[Object(u.jsx)("h3",{className:"stock-symbol-header",children:"Symbols"}),Object(u.jsx)("form",{className:"query-form",children:Object(u.jsxs)("div",{className:"input-container ",children:[Object(u.jsx)("input",{type:"text",value:i,onChange:function(e){var n=e.target.value;s(n);var c=t.filter((function(e){var t=e.symbol;return n.length<=t.length&&n.toLowerCase()===t.substr(0,n.length).toLowerCase()}));j(c)}}),Object(u.jsx)("span",{className:"input-arrow"})]})})]}),Object(u.jsx)("ul",{className:"stock-symbol-list",children:i?b.map((function(e){var t=e.symbol,c=e.id;return Object(u.jsx)("li",{className:"stock-symbol-list-item",children:Object(u.jsx)("button",{className:"ticker-symbol",onClick:function(){return n(t)},children:t})},c)})):t.map((function(e){var t=e.symbol,c=e.id;return Object(u.jsx)("li",{className:"stock-symbol-list-item",children:Object(u.jsx)("button",{className:"ticker-symbol",onClick:function(){return n(t)},children:t})},c)}))})]})},m=function(){return Object(u.jsx)("header",{className:"header-container",children:Object(u.jsx)("h1",{className:"header-title",children:"20 Day Tracker"})})},b=n(61),j=r.a.memo((function(e){var t=e.stockData,n={labels:e.dates,datasets:[{label:"Price",data:t,backgroundColor:"rgba(255, 99, 132, 0.2)",borderColor:"rgba(255, 99, 132, 1)",borderWidth:1,pointRadius:1,pointHoverRadius:1,pointBackgroundColor:"rgba(255, 99, 132, 1)",autoSkip:!0},{label:"Moving Average",data:e.movingAverage,backgroundColor:"rgba(54, 162, 235, 0.2)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1,pointRadius:1,pointHoverRadius:1,pointBackgroundColor:"rgba(54, 162, 235, 1)",autoSkip:!0}]};return Object(u.jsx)("div",{className:"chart-container",children:Object(u.jsx)(b.a,{data:n,options:{maintainAspectRatio:!1,responsive:!0}})})})),f={currentTimeframe:126},d=function(e,t){switch(t.type){case"1M":return{currentTimeframe:21};case"3M":return{currentTimeframe:63};case"6M":return{currentTimeframe:126};case"1Y":return{currentTimeframe:252};case"3Y":return{currentTimeframe:756};default:throw new Error("Invalid initial state for timeline!")}},h=function(e){var t=e.currentSymbol,n=Object(c.useState)({}),r=Object(o.a)(n,2),a=r[0],i=r[1],s=Object(c.useReducer)(d,f),l=Object(o.a)(s,2),m=l[0],b=l[1],h=Object(c.useState)([]),O=Object(o.a)(h,2),v=O[0],p=O[1],y=Object(c.useState)([]),g=Object(o.a)(y,2),C=g[0],S=g[1],x=Object(c.useState)([]),k=Object(o.a)(x,2),N=k[0],T=k[1],M="https://www.alphavantage.co/query?",A={f:"TIME_SERIES_DAILY_ADJUSTED",symbol:t,outputSize:"full",apiKey:"IBA86A2CGCBIGGHP"},B=function(e){if(e=e["Time Series (Daily)"]){var t,n,c,r=Object.entries(e),a=r.map((function(e){return e[0]}));return(t=m.currentTimeframe+19<=a.length?a.slice(0,m.currentTimeframe):a.slice(0,a.length-19)).reverse(),S(t),(r=r.map((function(e){return e[1]["5. adjusted close"]}))).reverse(),r.length-m.currentTimeframe>=19?(n=r.slice(r.length-m.currentTimeframe,r.length),c=r.slice(r.length-m.currentTimeframe-19,r.length)):(n=r.slice(19,r.length),c=r),L(c),n}},L=function(e){for(var t=[],n=0,c=0;c<e.length-19;c++){for(var r=0;r<20;r++)n+=parseInt(e[c+r]);t.push(n/20),n=0}T(t)};return Object(c.useEffect)((function(){console.log("".concat(M,"function=").concat(A.f,"&symbol=").concat(A.symbol,"&outputsize=").concat(A.outputSize,"&apikey=").concat(A.apiKey)),fetch("".concat(M,"function=").concat(A.f,"&symbol=").concat(A.symbol,"&outputsize=").concat(A.outputSize,"&apikey=").concat(A.apiKey)).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()})).then((function(e){var t=B(e);i(e),p(t)})).catch((function(e){return console.log(e)}))}),[t]),Object(c.useEffect)((function(){v&&p(B(a))}),[m]),Object(u.jsxs)("section",{className:"content-container",children:[Object(u.jsx)("h3",{className:"active-ticker-symbol",children:t}),Object(u.jsxs)("div",{className:"time-frame-container",children:[Object(u.jsx)("h6",{className:21===m.currentTimeframe?"active-timeframe":void 0,onClick:function(){return b({type:"1M"})},children:"1M"}),Object(u.jsx)("h6",{className:63===m.currentTimeframe?"active-timeframe":void 0,onClick:function(){return b({type:"3M"})},children:"3M"}),Object(u.jsx)("h6",{className:126===m.currentTimeframe?"active-timeframe":void 0,onClick:function(){return b({type:"6M"})},children:"6M"}),Object(u.jsx)("h6",{className:252===m.currentTimeframe?"active-timeframe":void 0,onClick:function(){return b({type:"1Y"})},children:"1Y"}),Object(u.jsx)("h6",{className:756===m.currentTimeframe?"active-timeframe":void 0,onClick:function(){return b({type:"3Y"})},children:"3Y"})]}),Object(u.jsx)(j,{stockData:v,dates:C,movingAverage:N})]})},O="AAPL\nABBV\nABT \nAGNC\nAMD\nAMGN\nAPL\nARLP\nBAC\nBCE\nBMY \nCCJ \nCOP\nCOST\nCS\nCSX\nCU\nCVX\nCXW \nDLTR\nENB\nFCX \nGDX \nGILD\nGLD\nGOLD\nHCC \nHD\nIBM\nINTC\nJNJ\nKL\nKO\nKMB \nMSFT\nMGA\nMMP \nMRK\nNEM \nNIO \nNLY \nOVV \nPFE\nPG\nPSX\nQCOM\nSBUX\nSLV \nSNY\nSPY\nSU\nT\nTSLA\nTSM\nVTRS\nVZ\nWFC\nWMT \nXLU\nXOM\nXOP",v=function(){var e=Object(c.useState)(""),t=Object(o.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)([]),i=Object(o.a)(a,2),b=i[0],j=i[1];return Object(c.useEffect)((function(){!function(){for(var e=1,t="",n=0;n<O.length;n++)"\n"===O[n]?function(){1===e&&r(t);var n={id:e,symbol:t};e++,j((function(e){return[].concat(Object(s.a)(e),[n])})),t=""}():" "!==O[n]&&(t+=O[n])}()}),[]),Object(u.jsxs)("div",{className:"app",children:[Object(u.jsx)(m,{}),Object(u.jsx)(h,{currentSymbol:n}),Object(u.jsx)(l,{tickerSymbols:b,setCurrentSymbol:r})]})};i.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(v,{})}),document.getElementById("root"))},66:function(e,t,n){},67:function(e,t,n){}},[[175,1,2]]]);
//# sourceMappingURL=main.bc6fd232.chunk.js.map